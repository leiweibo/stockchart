package com.wblei.stockchart

import android.os.Bundle
import androidx.fragment.app.Fragment
import android.view.LayoutInflater
import android.view.View
import android.view.ViewGroup
import androidx.navigation.fragment.findNavController
import com.alibaba.fastjson.JSON
import com.wblei.chartlib.Kline
import com.wblei.stockchart.databinding.FragmentFirstBinding

/**
 * A simple [Fragment] subclass as the default destination in the navigation.
 */
class FirstFragment : Fragment() {
  
  private var _binding: FragmentFirstBinding? = null
  
  // This property is only valid between onCreateView and
  // onDestroyView.
  private val binding get() = _binding!!
  
  override fun onCreateView(
    inflater: LayoutInflater, container: ViewGroup?,
    savedInstanceState: Bundle?
  ): View? {
    
    _binding = FragmentFirstBinding.inflate(inflater, container, false)
  
  

    return binding.root
    
  }
  
  override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
    super.onViewCreated(view, savedInstanceState)
  
    val json = """
      [{"close":1225.24,"high":1225.49,"holding":351655.6,"low":1224.9,"open":1225.383,"time":1539632700000,"volume":287.0},{"close":1225.378,"high":1225.47,"holding":356571.3,"low":1225.0,"open":1225.21,"time":1539633000000,"volume":291.0},{"close":1225.377,"high":1225.46,"holding":359002.94,"low":1225.03,"open":1225.43,"time":1539633300000,"volume":293.0},{"close":1226.565,"high":1226.67,"holding":348132.47,"low":1225.0,"open":1225.3,"time":1539633600000,"volume":284.0},{"close":1226.38,"high":1226.66,"holding":328659.78,"low":1225.9,"open":1226.51,"time":1539633900000,"volume":268.0},{"close":1226.68,"high":1226.79,"holding":323794.88,"low":1226.1,"open":1226.44,"time":1539634200000,"volume":264.0},{"close":1226.6,"high":1226.77,"holding":283351.72,"low":1226.3,"open":1226.64,"time":1539634500000,"volume":231.0},{"close":1227.169,"high":1227.38,"holding":303113.16,"low":1226.6,"open":1226.656,"time":1539634800000,"volume":247.0},{"close":1226.95,"high":1227.27,"holding":292025.75,"low":1226.67,"open":1227.216,"time":1539635100000,"volume":238.0},{"close":1227.09,"high":1227.1,"holding":261325.7,"low":1226.7,"open":1226.91,"time":1539635400000,"volume":213.0},{"close":1227.02,"high":1227.2,"holding":314108.4,"low":1226.6,"open":1227.1,"time":1539635700000,"volume":256.0},{"close":1226.99,"high":1227.16,"holding":273626.47,"low":1226.7,"open":1227.1,"time":1539636000000,"volume":223.0},{"close":1226.98,"high":1227.07,"holding":317768.88,"low":1226.6,"open":1226.99,"time":1539636300000,"volume":259.0},{"close":1226.916,"high":1227.15,"holding":305511.44,"low":1226.6,"open":1226.81,"time":1539636600000,"volume":249.0},{"close":1226.84,"high":1226.97,"holding":317729.78,"low":1226.324,"open":1226.868,"time":1539636900000,"volume":259.0},{"close":1227.2,"high":1227.42,"holding":337438.47,"low":1226.5,"open":1226.61,"time":1539640800000,"volume":275.0},{"close":1227.18,"high":1227.36,"holding":322758.16,"low":1226.9,"open":1227.15,"time":1539641100000,"volume":263.0},{"close":1227.24,"high":1227.28,"holding":222115.88,"low":1226.7,"open":1227.24,"time":1539641400000,"volume":181.0},{"close":1227.27,"high":1227.37,"holding":245446.61,"low":1226.9,"open":1227.245,"time":1539641700000,"volume":200.0},{"close":1227.2,"high":1227.28,"holding":239295.61,"low":1226.8,"open":1227.238,"time":1539642000000,"volume":195.0},{"close":1227.19,"high":1227.28,"holding":200030.58,"low":1226.9,"open":1227.22,"time":1539642300000,"volume":163.0},{"close":1227.257,"high":1227.3,"holding":262611.3,"low":1227.0,"open":1227.17,"time":1539642600000,"volume":214.0},{"close":1227.39,"high":1227.426,"holding":250372.86,"low":1227.15,"open":1227.2,"time":1539642900000,"volume":204.0},{"close":1227.38,"high":1227.417,"holding":191463.88,"low":1227.24,"open":1227.406,"time":1539643200000,"volume":156.0},{"close":1227.36,"high":1227.406,"holding":184101.53,"low":1227.24,"open":1227.3,"time":1539643500000,"volume":150.0},{"close":1227.4,"high":1227.6,"holding":284775.3,"low":1227.2,"open":1227.58,"time":1539643800000,"volume":232.0},{"close":1227.576,"high":1227.61,"holding":279853.66,"low":1227.15,"open":1227.41,"time":1539644100000,"volume":228.0},{"close":1227.3,"high":1227.7,"holding":289677.38,"low":1227.1,"open":1227.5,"time":1539644400000,"volume":236.0},{"close":1227.188,"high":1227.42,"holding":299446.1,"low":1227.0,"open":1227.32,"time":1539644700000,"volume":244.0},{"close":1227.107,"high":1227.23,"holding":301860.6,"low":1226.8,"open":1227.17,"time":1539645000000,"volume":246.0},{"close":1226.9,"high":1227.12,"holding":314093.56,"low":1226.5,"open":1227.02,"time":1539645300000,"volume":256.0},{"close":1226.6,"high":1227.14,"holding":256439.2,"low":1226.6,"open":1227.01,"time":1539645600000,"volume":209.0},{"close":1227.1,"high":1227.22,"holding":323897.72,"low":1226.5,"open":1226.78,"time":1539645900000,"volume":264.0},{"close":1227.0,"high":1227.31,"holding":284685.16,"low":1226.7,"open":1227.07,"time":1539646200000,"volume":232.0},{"close":1227.33,"high":1227.33,"holding":285903.3,"low":1226.7,"open":1227.11,"time":1539646500000,"volume":233.0},{"close":1227.369,"high":1227.45,"holding":305603.97,"low":1227.1,"open":1227.22,"time":1539646800000,"volume":249.0},{"close":1227.079,"high":1227.41,"holding":276107.12,"low":1226.8,"open":1227.378,"time":1539647100000,"volume":225.0},{"close":1226.7,"high":1227.106,"holding":299374.06,"low":1226.6,"open":1227.0,"time":1539647400000,"volume":244.0},{"close":1226.769,"high":1226.936,"holding":316517.4,"low":1226.5,"open":1226.806,"time":1539647700000,"volume":258.0},{"close":1227.156,"high":1227.206,"holding":348451.25,"low":1226.45,"open":1226.67,"time":1539648000000,"volume":284.0},{"close":1227.39,"high":1227.51,"holding":358347.53,"low":1226.98,"open":1227.166,"time":1539648300000,"volume":292.0},{"close":1227.45,"high":1227.996,"holding":344975.12,"low":1227.3,"open":1227.33,"time":1539648600000,"volume":281.0},{"close":1227.87,"high":1228.0,"holding":345007.16,"low":1227.48,"open":1227.52,"time":1539648900000,"volume":281.0},{"close":1227.77,"high":1228.216,"holding":342601.4,"low":1227.6,"open":1227.859,"time":1539649200000,"volume":279.0},{"close":1228.066,"high":1228.09,"holding":341322.94,"low":1227.48,"open":1227.89,"time":1539649500000,"volume":278.0},{"close":1227.69,"high":1228.12,"holding":351165.1,"low":1227.57,"open":1228.0,"time":1539649800000,"volume":286.0},{"close":1228.0,"high":1228.3,"holding":348759.34,"low":1227.57,"open":1227.6,"time":1539650100000,"volume":284.0},{"close":1228.15,"high":1228.44,"holding":346375.84,"low":1228.0,"open":1228.08,"time":1539650400000,"volume":282.0},{"close":1228.3,"high":1228.5,"holding":343936.1,"low":1228.06,"open":1228.29,"time":1539650700000,"volume":280.0},{"close":1228.18,"high":1228.55,"holding":336570.34,"low":1228.0,"open":1228.4,"time":1539651000000,"volume":274.0},{"close":1228.23,"high":1228.46,"holding":345139.25,"low":1227.9,"open":1228.25,"time":1539651300000,"volume":281.0},{"close":1228.236,"high":1228.34,"holding":345110.34,"low":1227.7,"open":1228.17,"time":1539651600000,"volume":281.0},{"close":1227.696,"high":1228.356,"holding":343872.62,"low":1227.59,"open":1228.13,"time":1539651900000,"volume":280.0},{"close":1227.746,"high":1228.03,"holding":352364.34,"low":1227.5,"open":1227.717,"time":1539652200000,"volume":287.0},{"close":1227.99,"high":1228.22,"holding":352407.66,"low":1227.5,"open":1227.689,"time":1539652500000,"volume":287.0},{"close":1228.099,"high":1228.42,"holding":353703.8,"low":1227.8,"open":1228.12,"time":1539652800000,"volume":288.0},{"close":1228.17,"high":1228.53,"holding":353750.3,"low":1227.9,"open":1228.026,"time":1539653100000,"volume":288.0},{"close":1227.83,"high":1228.2,"holding":349951.72,"low":1227.4,"open":1228.169,"time":1539653400000,"volume":285.0},{"close":1227.82,"high":1228.02,"holding":351137.6,"low":1227.49,"open":1227.8,"time":1539653700000,"volume":286.0},{"close":1227.716,"high":1227.976,"holding":351139.0,"low":1227.5,"open":1227.7,"time":1539654000000,"volume":286.0},{"close":1227.61,"high":1227.98,"holding":363408.44,"low":1227.5,"open":1227.59,"time":1539654300000,"volume":296.0},{"close":1227.82,"high":1227.866,"holding":349881.4,"low":1227.3,"open":1227.666,"time":1539654600000,"volume":285.0},{"close":1227.93,"high":1227.93,"holding":352341.4,"low":1227.48,"open":1227.73,"time":1539654900000,"volume":287.0},{"close":1227.03,"high":1227.892,"holding":353511.78,"low":1226.9,"open":1227.89,"time":1539655200000,"volume":288.0},{"close":1226.97,"high":1227.23,"holding":342326.47,"low":1226.67,"open":1227.134,"time":1539655500000,"volume":279.0},{"close":1226.845,"high":1227.1,"holding":353334.16,"low":1226.5,"open":1227.08,"time":1539655800000,"volume":288.0},{"close":1227.22,"high":1227.366,"holding":347254.47,"low":1226.6,"open":1226.75,"time":1539656100000,"volume":283.0},{"close":1226.9,"high":1227.234,"holding":338664.06,"low":1226.85,"open":1227.181,"time":1539656400000,"volume":276.0},{"close":1226.88,"high":1227.051,"holding":347186.6,"low":1226.5,"open":1227.02,"time":1539656700000,"volume":283.0},{"close":1226.74,"high":1226.91,"holding":350843.3,"low":1226.5,"open":1226.75,"time":1539657000000,"volume":286.0},{"close":1226.15,"high":1226.73,"holding":356845.34,"low":1225.99,"open":1226.73,"time":1539657300000,"volume":291.0},{"close":1225.79,"high":1226.27,"holding":359213.12,"low":1225.4,"open":1226.166,"time":1539657600000,"volume":293.0},{"close":1226.44,"high":1226.54,"holding":349487.5,"low":1225.76,"open":1225.928,"time":1539657900000,"volume":285.0},{"close":1226.12,"high":1226.53,"holding":358036.47,"low":1225.7,"open":1226.436,"time":1539658200000,"volume":292.0},{"close":1225.83,"high":1226.14,"holding":356756.66,"low":1225.7,"open":1226.088,"time":1539658500000,"volume":291.0},{"close":1226.01,"high":1226.18,"holding":355512.1,"low":1225.4,"open":1225.83,"time":1539658800000,"volume":290.0},{"close":1225.61,"high":1226.13,"holding":348136.1,"low":1225.4,"open":1226.02,"time":1539659100000,"volume":284.0},{"close":1225.52,"high":1225.775,"holding":351748.8,"low":1225.37,"open":1225.728,"time":1539659400000,"volume":287.0},{"close":1225.76,"high":1225.78,"holding":340710.9,"low":1225.4,"open":1225.58,"time":1539659700000,"volume":278.0},{"close":1225.4,"high":1225.85,"holding":355444.5,"low":1225.36,"open":1225.64,"time":1539660000000,"volume":290.0},{"close":1225.811,"high":1225.866,"holding":355440.9,"low":1225.2,"open":1225.518,"time":1539660300000,"volume":290.0},{"close":1226.2,"high":1226.42,"holding":349403.22,"low":1225.6,"open":1225.808,"time":1539660600000,"volume":285.0},{"close":1226.02,"high":1226.53,"holding":342122.97,"low":1225.8,"open":1226.24,"time":1539660900000,"volume":279.0},{"close":1226.2,"high":1226.35,"holding":349460.53,"low":1225.95,"open":1226.02,"time":1539661200000,"volume":285.0},{"close":1226.39,"high":1226.63,"holding":332349.47,"low":1226.1,"open":1226.18,"time":1539661500000,"volume":271.0},{"close":1226.28,"high":1226.63,"holding":345851.3,"low":1226.1,"open":1226.39,"time":1539661800000,"volume":282.0},{"close":1226.586,"high":1226.59,"holding":327433.56,"low":1226.1,"open":1226.349,"time":1539662100000,"volume":267.0},{"close":1226.2,"high":1226.586,"holding":342169.56,"low":1226.0,"open":1226.586,"time":1539662400000,"volume":279.0},{"close":1226.13,"high":1226.38,"holding":344539.75,"low":1225.91,"open":1226.27,"time":1539662700000,"volume":281.0},{"close":1225.68,"high":1226.18,"holding":342052.84,"low":1225.6,"open":1226.1,"time":1539663000000,"volume":279.0},{"close":1226.011,"high":1226.05,"holding":335888.9,"low":1225.6,"open":1225.7,"time":1539663300000,"volume":274.0},{"close":1225.93,"high":1226.08,"holding":333456.84,"low":1225.6,"open":1225.91,"time":1539663600000,"volume":272.0},{"close":1225.8,"high":1225.976,"holding":338325.9,"low":1225.6,"open":1225.8,"time":1539663900000,"volume":276.0},{"close":1226.25,"high":1226.25,"holding":331024.66,"low":1225.8,"open":1225.83,"time":1539664200000,"volume":270.0},{"close":1226.35,"high":1226.4,"holding":340873.66,"low":1225.83,"open":1226.14,"time":1539664500000,"volume":278.0},{"close":1226.4,"high":1226.44,"holding":311483.8,"low":1226.0,"open":1226.319,"time":1539664800000,"volume":254.0},{"close":1226.301,"high":1226.53,"holding":331122.06,"low":1226.1,"open":1226.52,"time":1539665100000,"volume":270.0},{"close":1226.03,"high":1226.41,"holding":344520.5,"low":1225.8,"open":1226.32,"time":1539665400000,"volume":281.0},{"close":1225.955,"high":1226.19,"holding":349420.66,"low":1225.7,"open":1226.119,"time":1539665700000,"volume":285.0},{"close":1225.84,"high":1225.95,"holding":351779.16,"low":1225.5,"open":1225.95,"time":1539666000000,"volume":287.0},{"close":1225.692,"high":1225.96,"holding":346881.88,"low":1225.5,"open":1225.75,"time":1539666300000,"volume":283.0},{"close":1225.699,"high":1225.79,"holding":345625.0,"low":1225.3,"open":1225.708,"time":1539666600000,"volume":282.0},{"close":1225.84,"high":1225.87,"holding":349281.56,"low":1225.2,"open":1225.756,"time":1539666900000,"volume":285.0},{"close":1226.33,"high":1226.34,"holding":350637.44,"low":1225.7,"open":1225.81,"time":1539667200000,"volume":286.0},{"close":1225.852,"high":1226.299,"holding":339572.16,"low":1225.6,"open":1226.18,"time":1539667500000,"volume":277.0},{"close":1225.466,"high":1225.816,"holding":355414.0,"low":1225.2,"open":1225.75,"time":1539667800000,"volume":290.0},{"close":1225.099,"high":1225.466,"holding":349199.1,"low":1225.0,"open":1225.45,"time":1539668100000,"volume":285.0},{"close":1225.356,"high":1225.38,"holding":356533.9,"low":1224.99,"open":1225.096,"time":1539668400000,"volume":291.0},{"close":1225.31,"high":1225.356,"holding":350400.38,"low":1224.8,"open":1225.2,"time":1539668700000,"volume":286.0},{"close":1225.45,"high":1225.58,"holding":333301.0,"low":1225.1,"open":1225.19,"time":1539669000000,"volume":272.0},{"close":1225.39,"high":1225.55,"holding":334527.88,"low":1225.2,"open":1225.4,"time":1539669300000,"volume":273.0},{"close":1225.528,"high":1225.78,"holding":350500.53,"low":1225.3,"open":1225.33,"time":1539669600000,"volume":286.0},{"close":1225.8,"high":1226.19,"holding":340782.22,"low":1225.4,"open":1225.4,"time":1539669900000,"volume":278.0},{"close":1226.109,"high":1226.24,"holding":357988.1,"low":1225.72,"open":1225.84,"time":1539670200000,"volume":292.0},{"close":1227.37,"high":1227.68,"holding":344751.22,"low":1225.99,"open":1226.0,"time":1539670500000,"volume":281.0},{"close":1227.55,"high":1227.87,"holding":343663.84,"low":1226.865,"open":1227.432,"time":1539670800000,"volume":280.0},{"close":1226.76,"high":1227.54,"holding":353441.66,"low":1226.64,"open":1227.41,"time":1539671100000,"volume":288.0},{"close":1226.69,"high":1226.87,"holding":358178.12,"low":1226.25,"open":1226.788,"time":1539671400000,"volume":292.0},{"close":1226.5,"high":1227.18,"holding":348436.3,"low":1226.5,"open":1226.806,"time":1539671700000,"volume":284.0},{"close":1226.809,"high":1226.87,"holding":347150.1,"low":1226.4,"open":1226.8,"time":1539672000000,"volume":283.0},{"close":1226.99,"high":1227.246,"holding":354577.75,"low":1226.5,"open":1226.85,"time":1539672300000,"volume":289.0},{"close":1226.4,"high":1227.18,"holding":352120.7,"low":1226.4,"open":1226.99,"time":1539672600000,"volume":287.0},{"close":1226.35,"high":1226.74,"holding":355652.1,"low":1225.99,"open":1226.74,"time":1539672900000,"volume":290.0},{"close":1226.47,"high":1226.87,"holding":356906.6,"low":1226.1,"open":1226.24,"time":1539673200000,"volume":291.0},{"close":1227.74,"high":1228.11,"holding":357107.62,"low":1226.38,"open":1226.39,"time":1539673500000,"volume":291.0},{"close":1226.468,"high":1228.09,"holding":355791.9,"low":1226.07,"open":1227.84,"time":1539673800000,"volume":290.0},{"close":1226.769,"high":1226.84,"holding":350726.53,"low":1226.0,"open":1226.37,"time":1539674100000,"volume":286.0},{"close":1227.26,"high":1227.479,"holding":350850.28,"low":1226.44,"open":1226.68,"time":1539674400000,"volume":286.0},{"close":1228.36,"high":1229.206,"holding":357455.56,"low":1227.14,"open":1227.396,"time":1539674700000,"volume":291.0},{"close":1227.6,"high":1228.48,"holding":358582.5,"low":1227.6,"open":1228.31,"time":1539675000000,"volume":292.0},{"close":1228.286,"high":1228.357,"holding":352461.06,"low":1227.77,"open":1227.845,"time":1539675300000,"volume":287.0},{"close":1228.968,"high":1229.2,"holding":357581.8,"low":1228.23,"open":1228.24,"time":1539675600000,"volume":291.0},{"close":1229.266,"high":1229.46,"holding":354007.88,"low":1228.81,"open":1228.84,"time":1539675900000,"volume":288.0},{"close":1229.16,"high":1229.72,"holding":356494.7,"low":1228.88,"open":1229.13,"time":1539676200000,"volume":290.0},{"close":1229.2,"high":1229.47,"holding":353996.38,"low":1228.79,"open":1229.199,"time":1539676500000,"volume":288.0},{"close":1229.756,"high":1229.98,"holding":356586.22,"low":1229.16,"open":1229.27,"time":1539676800000,"volume":290.0},{"close":1229.518,"high":1229.91,"holding":350450.62,"low":1229.36,"open":1229.64,"time":1539677100000,"volume":285.0},{"close":1229.57,"high":1229.586,"holding":355291.22,"low":1229.13,"open":1229.46,"time":1539677400000,"volume":289.0},{"close":1229.33,"high":1229.75,"holding":351622.1,"low":1229.16,"open":1229.55,"time":1539677700000,"volume":286.0},{"close":1229.7,"high":1229.8,"holding":336860.8,"low":1229.0,"open":1229.377,"time":1539678000000,"volume":274.0},{"close":1229.539,"high":1230.17,"holding":345580.2,"low":1229.39,"open":1229.78,"time":1539678300000,"volume":281.0},{"close":1229.3,"high":1229.666,"holding":347878.9,"low":1228.8,"open":1229.628,"time":1539678600000,"volume":283.0},{"close":1229.268,"high":1229.38,"holding":352777.56,"low":1228.96,"open":1229.228,"time":1539678900000,"volume":287.0},{"close":1229.477,"high":1229.82,"holding":351615.0,"low":1229.1,"open":1229.296,"time":1539679200000,"volume":286.0},{"close":1229.479,"high":1229.79,"holding":356550.53,"low":1229.1,"open":1229.4,"time":1539679500000,"volume":290.0},{"close":1228.6,"high":1229.465,"holding":349056.8,"low":1228.6,"open":1229.39,"time":1539679800000,"volume":284.0},{"close":1228.5,"high":1229.03,"holding":351431.56,"low":1228.47,"open":1228.67,"time":1539680100000,"volume":286.0},{"close":1228.65,"high":1229.075,"holding":355105.7,"low":1228.3,"open":1228.789,"time":1539680400000,"volume":289.0},{"close":1228.12,"high":1228.88,"holding":352513.06,"low":1227.73,"open":1228.731,"time":1539680700000,"volume":287.0},{"close":1227.65,"high":1228.18,"holding":193875.9,"low":1226.24,"open":1228.18,"time":1539681000000,"volume":185.0}]
    """.trimIndent()
    var klineData = JSON.parseArray(json, Kline::class.java)
    binding.klinechart.setupData(klineData)
    
  }
  
  override fun onDestroyView() {
    super.onDestroyView()
    _binding = null
  }
}